{"ast":null,"code":"import _slicedToArray from\"/Users/user/Desktop/WebdevHW3/hw3-hw3-validteamname/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import axios from'axios';import md5 from'md5';import logo from\"./logo.svg\";import'./App.css';var options={withCredentials:true};function App(){var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),username=_React$useState2[0],setUsername=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),password=_React$useState4[0],setPassword=_React$useState4[1];// React.useEffect(() => {\n//   axios\n//     .get('/service1/', options)\n//     .then(res => {\n//       console.log(res);\n//     })\n//     .catch(console.log);\n// }, []); // VERY IMPORTANT NEEDS THE EMPTY ARRAY\n// React.useEffect(() => {\n//   const body = {\n//     username: 'asd',\n//     password: 'asd',\n//   };\n//   axios\n//     .post('/service2/', body, options)\n//     .then(res => {\n//       //document.cookie = 'username=username'; //set cookies with key/value pairs\n//       //document.cookie = 'password=password'; //set cookies with key/value pairs\n//       console.log(res);\n//     })\n//     .catch(console.log);\n// }, []); // VERY IMPORTANT NEEDS THE EMPTY ARRAY\nvar validate=function validate(){var body={username:username,password:md5(password)};console.log('validate');console.log(body);axios.post('/service2/*',body,options).then(function(res){console.log('inside res');if(res.data.valid){document.cookie=\"username=\".concat(username);//set cookies with key/value pairs\ndocument.cookie=\"password=\".concat(md5(password));//set cookies with key/value pairs\n}else{document.cookie='username=';document.cookie='password=';}console.log(res);}).catch(console.log);};var fetchProtectedData=function fetchProtectedData(){axios.get('/service1/',options).then(function(res){console.log(res);}).catch(console.log);};return React.createElement(\"div\",{className:\"App\"},React.createElement(\"header\",{className:\"App-header\"},React.createElement(\"img\",{src:logo,className:\"App-logo\",alt:\"logo\"}),React.createElement(\"input\",{value:username,onChange:function onChange(e){return setUsername(e.target.value);}}),React.createElement(\"input\",{type:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),React.createElement(\"button\",{type:\"button\",onClick:validate},\"Submit\"),React.createElement(\"button\",{type:\"button\",onClick:fetchProtectedData},\"Get Data\")));}export default App;","map":{"version":3,"sources":["/Users/user/Desktop/WebdevHW3/hw3-hw3-validteamname/src/App.js"],"names":["React","axios","md5","options","withCredentials","App","useState","username","setUsername","password","setPassword","validate","body","console","log","post","then","res","data","valid","document","cookie","catch","fetchProtectedData","get","logo","e","target","value"],"mappings":"sIAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,KAAhB,C,6BAEA,MAAO,WAAP,CAEA,GAAMC,CAAAA,OAAO,CAAG,CACdC,eAAe,CAAE,IADH,CAAhB,CAIA,QAASC,CAAAA,GAAT,EAAe,qBACmBL,KAAK,CAACM,QAAN,CAAe,EAAf,CADnB,oDACNC,QADM,qBACIC,WADJ,0CAEmBR,KAAK,CAACM,QAAN,CAAe,EAAf,CAFnB,qDAENG,QAFM,qBAEIC,WAFJ,qBAIb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrB,GAAMC,CAAAA,IAAI,CAAG,CACXL,QAAQ,CAARA,QADW,CAEXE,QAAQ,CAAEP,GAAG,CAACO,QAAD,CAFF,CAAb,CAIAI,OAAO,CAACC,GAAR,CAAY,UAAZ,EACAD,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACAX,KAAK,CACFc,IADH,CACQ,aADR,CACuBH,IADvB,CAC6BT,OAD7B,EAEGa,IAFH,CAEQ,SAAAC,GAAG,CAAI,CACXJ,OAAO,CAACC,GAAR,CAAY,YAAZ,EACA,GAAIG,GAAG,CAACC,IAAJ,CAASC,KAAb,CAAoB,CAClBC,QAAQ,CAACC,MAAT,oBAA8Bd,QAA9B,EAA0C;AAC1Ca,QAAQ,CAACC,MAAT,oBAA8BnB,GAAG,CAACO,QAAD,CAAjC,EAA+C;AAChD,CAHD,IAGO,CACLW,QAAQ,CAACC,MAAT,CAAkB,WAAlB,CACAD,QAAQ,CAACC,MAAT,CAAkB,WAAlB,CACD,CACDR,OAAO,CAACC,GAAR,CAAYG,GAAZ,EACD,CAZH,EAaGK,KAbH,CAaST,OAAO,CAACC,GAbjB,EAcD,CArBD,CAuBA,GAAMS,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,CAC/BtB,KAAK,CACFuB,GADH,CACO,YADP,CACqBrB,OADrB,EAEGa,IAFH,CAEQ,SAAAC,GAAG,CAAI,CACXJ,OAAO,CAACC,GAAR,CAAYG,GAAZ,EACD,CAJH,EAKGK,KALH,CAKST,OAAO,CAACC,GALjB,EAMD,CAPD,CASA,MACE,4BAAK,SAAS,CAAC,KAAf,EACE,8BAAQ,SAAS,CAAC,YAAlB,EACE,2BAAK,GAAG,CAAEW,IAAV,CAAgB,SAAS,CAAC,UAA1B,CAAqC,GAAG,CAAC,MAAzC,EADF,CAEE,6BAAO,KAAK,CAAElB,QAAd,CAAwB,QAAQ,CAAE,kBAAAmB,CAAC,QAAIlB,CAAAA,WAAW,CAACkB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf,EAAnC,EAFF,CAGE,6BACE,IAAI,CAAC,UADP,CAEE,KAAK,CAAEnB,QAFT,CAGE,QAAQ,CAAE,kBAAAiB,CAAC,QAAIhB,CAAAA,WAAW,CAACgB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf,EAHb,EAHF,CAQE,8BAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAEjB,QAA/B,WARF,CAWE,8BAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAEY,kBAA/B,aAXF,CADF,CADF,CAmBD,CAED,cAAelB,CAAAA,GAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport md5 from 'md5';\nimport logo from './logo.svg';\nimport './App.css';\n\nconst options = {\n  withCredentials: true,\n};\n\nfunction App() {\n  const [username, setUsername] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  // React.useEffect(() => {\n  //   axios\n  //     .get('/service1/', options)\n  //     .then(res => {\n  //       console.log(res);\n  //     })\n  //     .catch(console.log);\n  // }, []); // VERY IMPORTANT NEEDS THE EMPTY ARRAY\n\n  // React.useEffect(() => {\n  //   const body = {\n  //     username: 'asd',\n  //     password: 'asd',\n  //   };\n  //   axios\n  //     .post('/service2/', body, options)\n  //     .then(res => {\n  //       //document.cookie = 'username=username'; //set cookies with key/value pairs\n  //       //document.cookie = 'password=password'; //set cookies with key/value pairs\n  //       console.log(res);\n  //     })\n  //     .catch(console.log);\n  // }, []); // VERY IMPORTANT NEEDS THE EMPTY ARRAY\n\n  const validate = () => {\n    const body = {\n      username,\n      password: md5(password),\n    };\n    console.log('validate');\n    console.log(body);\n    axios\n      .post('/service2/*', body, options)\n      .then(res => {\n        console.log('inside res');\n        if (res.data.valid) {\n          document.cookie = `username=${username}`; //set cookies with key/value pairs\n          document.cookie = `password=${md5(password)}`; //set cookies with key/value pairs\n        } else {\n          document.cookie = 'username=';\n          document.cookie = 'password=';\n        }\n        console.log(res);\n      })\n      .catch(console.log);\n  };\n\n  const fetchProtectedData = () => {\n    axios\n      .get('/service1/', options)\n      .then(res => {\n        console.log(res);\n      })\n      .catch(console.log);\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <input value={username} onChange={e => setUsername(e.target.value)} />\n        <input\n          type=\"password\"\n          value={password}\n          onChange={e => setPassword(e.target.value)}\n        />\n        <button type=\"button\" onClick={validate}>\n          Submit\n        </button>\n        <button type=\"button\" onClick={fetchProtectedData}>\n          Get Data\n        </button>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}